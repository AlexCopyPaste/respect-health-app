<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Respect Health Pro</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#f2f2f7">
    <link rel="apple-touch-icon" href="icon-192.png"> 
</head>
<body>

    <div class="app-container">
        
        <div id="mainMenu" class="screen active">
            <header class="main-header">
                <h1>Respect Health</h1>
                <p>מערכת ניהול בריאות אישית</p>
            </header>

            <div class="dashboard-grid">
                <div class="app-btn" onclick="showSection('bpSection')">
                    <div class="icon-3d red-gradient">❤️</div>
                    <span>לחץ דם</span>
                </div>
                
                <div class="app-btn" onclick="showSection('sugarSection')">
                    <div class="icon-3d blue-gradient">🩸</div>
                    <span>סוכר</span>
                </div>

                <div class="app-btn" onclick="showSection('weightSection')">
                    <div class="icon-3d purple-gradient">⚖️</div>
                    <span>משקל</span>
                </div>

                <div class="app-btn" onclick="showSection('medsSection')">
                    <div class="icon-3d orange-gradient">💊</div>
                    <span>תרופות</span>
                </div>

                <div class="app-btn" onclick="showSection('cycleSection')">
                    <div class="icon-3d pink-gradient">🌸</div>
                    <span>מחזור</span>
                </div>

                <div class="app-btn" onclick="showSection('settingsSection')">
                    <div class="icon-3d gray-gradient">⚙️</div>
                    <span>הגדרות</span>
                </div>
            </div>
        </div>

        <div id="bpSection" class="screen hidden" data-category="bp">
            <div class="screen-header">
                <button onclick="showHome()" class="back-btn">❌</button>
                <h2>לחץ דם</h2>
            </div>
            
            <div class="content-scroll">
                <div class="card form-card">
                    <form id="bpForm">
                        <div class="form-group">
                            <label>תאריך:</label>
                            <input type="datetime-local" id="bpDate" required>
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <label>סיסטולי (גבוה):</label>
                                <input type="number" id="systolic" placeholder="120" oninput="validateField(this, 'systolic')">
                            </div>
                            <div class="form-group">
                                <label>דיאסטולי (נמוך):</label>
                                <input type="number" id="diastolic" placeholder="80" oninput="validateField(this, 'diastolic')">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>דופק:</label>
                            <input type="number" id="pulse" placeholder="70" oninput="validateField(this, 'pulse')">
                            <small class="feedback-text"></small>
                        </div>
                        <button type="submit" class="btn-ios">שמור נתונים</button>
                    </form>
                </div>
                <div id="bpList" class="history-list"></div>
            </div>
        </div>

        <div id="sugarSection" class="screen hidden" data-category="sugar">
            <div class="screen-header">
                <button onclick="showHome()" class="back-btn">❌</button>
                <h2>סוכר בדם</h2>
            </div>
            <div class="content-scroll">
                <div class="card form-card">
                    <form id="sugarForm">
                        <div class="form-group">
                            <label>תאריך:</label>
                            <input type="datetime-local" id="sugarDate" required>
                        </div>
                        <div class="form-group">
                            <label>רמת סוכר (mg/dL):</label>
                            <input type="number" id="glucoseLevel" placeholder="100" oninput="validateField(this, 'sugar')">
                            <small class="feedback-text"></small>
                        </div>
                        <div class="form-group">
                            <label>זמן מדידה:</label>
                            <select id="sugarTime" class="ios-select">
                                <option value="צום">בצום</option>
                                <option value="אחרי אוכל">שעתיים אחרי אוכל</option>
                                <option value="אקראי">אקראי</option>
                            </select>
                        </div>
                        <button type="submit" class="btn-ios">שמור נתונים</button>
                    </form>
                </div>
                <div id="sugarList" class="history-list"></div>
            </div>
        </div>

        <div id="weightSection" class="screen hidden" data-category="weight">
            <div class="screen-header">
                <button onclick="showHome()" class="back-btn">❌</button>
                <h2>מעקב משקל</h2>
            </div>
            <div class="content-scroll">
                <div class="card form-card">
                    <form id="weightForm">
                        <div class="form-group">
                            <label>תאריך:</label>
                            <input type="datetime-local" id="weightDate" required>
                        </div>
                        <div class="form-group">
                            <label>משקל (ק"ג):</label>
                            <input type="number" step="0.1" id="weightVal" placeholder="75.0" oninput="validateField(this, 'weight')">
                            <small class="feedback-text"></small>
                        </div>
                        <button type="submit" class="btn-ios">שמור נתונים</button>
                    </form>
                </div>
                <div id="weightList" class="history-list"></div>
            </div>
        </div>

        <div id="medsSection" class="screen hidden" data-category="meds">
            <div class="screen-header">
                <button onclick="showHome()" class="back-btn">❌</button>
                <h2>ארון תרופות</h2>
            </div>
            <div class="content-scroll">
                <div class="card form-card">
                    <form id="medsForm">
                        <div class="form-group">
                            <label>שם התרופה:</label>
                            <input type="text" id="medName" placeholder="למשל: אקמול" required>
                        </div>
                        <div class="form-group">
                            <label>מינון (מ"ג):</label>
                            <input type="number" id="medDosage" placeholder="500">
                        </div>
                        <div class="form-group">
                            <label>זמני נטילה:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" value="בוקר" class="med-time"> ☀️ בוקר</label>
                                <label><input type="checkbox" value="צהריים" class="med-time"> 🌤️ צהריים</label>
                                <label><input type="checkbox" value="ערב" class="med-time"> 🌙 ערב</label>
                            </div>
                        </div>
                        <button type="submit" class="btn-ios">הוסף תרופה</button>
                    </form>
                </div>
                <div id="medsList" class="history-list"></div>
            </div>
        </div>

        <div id="cycleSection" class="screen hidden" data-category="cycle">
            <div class="screen-header">
                <button onclick="showHome()" class="back-btn">❌</button>
                <h2>מעקב נשי</h2>
            </div>
            <div class="content-scroll">
                <div id="cyclePrediction" class="prediction-card hidden">
                    <span>המחזור הבא משוער ב:</span>
                    <strong id="nextCycleDate">--/--/----</strong>
                </div>

                <div class="card form-card">
                    <form id="cycleForm">
                        <div class="form-group">
                            <label>תאריך התחלה:</label>
                            <input type="date" id="cycleStart" required>
                        </div>
                        <div class="form-group">
                            <label>רמת כאב / קושי:</label>
                            <select id="cyclePain" class="ios-select">
                                <option value="קל">🙂 קל</option>
                                <option value="בינוני">😐 בינוני</option>
                                <option value="קשה">😣 קשה</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>הערות:</label>
                            <textarea id="cycleNotes" rows="2" placeholder="תופעות לוואי, מצב רוח..."></textarea>
                        </div>
                        <button type="submit" class="btn-ios">שמור</button>
                    </form>
                </div>
                <div id="cycleList" class="history-list"></div>
            </div>
        </div>

        <div id="settingsSection" class="screen hidden">
            <div class="screen-header">
                <button onclick="showHome()" class="back-btn">חזרה</button>
                <h2>הגדרות</h2>
            </div>
            <div class="content-scroll">
                <div class="settings-list">
                    <div class="settings-item">
                        <span>מצב לילה</span>
                        <input type="checkbox" id="themeSwitch" class="ios-toggle">
                    </div>
                    <div class="settings-item" onclick="resetData()">
                        <span style="color:red">מחיקת כל הנתונים</span>
                    </div>
                </div>
            </div>
        </div>

        <button id="exportCsvBtn" class="floating-export-btn hidden" onclick="exportCurrentData()">
            📤 ייצוא Excel
        </button>

    </div>

    <script src="app.js"></script>
</body>
</html>